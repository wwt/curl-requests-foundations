{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"cURL &amp; Python Requests Hands-On Study Resources","text":""},{"location":"#about","title":"About","text":"<p>What's the big fuss over IT automation?  Well, more than anything, the excitement is about the sorts of things that you don't have to do when automation is on your side.  Things like not having to either copy and paste configuration changes to dozens (maybe hundreds) of different systems or repeat the same click, click, click, click, click-through-the-UI marathon over, and over, and over; every single time there's a need to make a bulk change .  To automate these sorts of workflows, you need to learn to write some form of automation-specific code, and that code needs to interact with IT systems using some form of API, usually a REST API.</p>"},{"location":"#overview","title":"Overview","text":"<p>This repository has a variety of hands-on, step-by-step exercises that will teach you to use cURL and Python Requests to work with REST APIs. Even if you are new to cURL or Python Requests, this walkthrough will help you learn the syntax for both tools and get you comfortable with REST API calls to several Cisco platforms, including:</p> <ul> <li>ACI</li> <li>DNA Center</li> <li>Meraki</li> <li>vManage SD-WAN</li> <li>Webex</li> </ul> <p>Each of these REST APIs uses different authentication mechanisms, URI endpoints, and payload formats, so you will learn to work with REST APIs in a variety of different ways. Even if you're thinking, \"I don't work with Cisco products, why should I care about Cisco APIs?\"  If you complete the hands-on exercises in this repository, you will be able to work with just about any REST API, which means you will have some mega automation  superpowers .</p> <p>You'll get the most from the hands-on exercises if you have at least a little bit of exposure to Python fundamentals, although we put the step-by-step directions together in a way that welcomes all experience levels.</p>"},{"location":"#getting-started","title":"Getting Started","text":"<p>It's time to get started with cURL and Python Requests.  Click here to move to the next section.</p>"},{"location":"sections/section_1/","title":"REST API Access With cURL","text":""},{"location":"sections/section_1/#curl-overview","title":"cURL Overview","text":"<p>cURL is an open-source Linux tool that allows your CLI to act as an HTTP client<sup>1</sup>  Think of cURL sort of like a text-based web browser that you can use to do things like:</p> <ul> <li>Test and troubleshoot HTTP connectivity to a server.</li> <li>Interact with REST APIs.</li> <li>Download or upload files.</li> <li>Test certificate validity.</li> </ul>"},{"location":"sections/section_1/#curl-in-action","title":"cURL In Action","text":"<p>Because the native response format for cURL is unstructured text<sup>2</sup>, cURL typically is not part of programmatic workflows.  However, cURL has a wide variety of use cases and is an essential part of your development skillset.</p> cURL Example <p>Here is a quick example of how cURL can make a REST API call to a free, public service that provides a REST API test platform:</p> <ol> <li> <p>You can paste this cURL command in just about any Linux environment and press Enter or Return to send the request:</p> Example cURL Command <pre><code>curl https://jsonplaceholder.typicode.com/posts/1\n</code></pre> </li> <li> <p>The response from the server should look something like this:</p> Example Server Response <pre><code>{\n  \"userId\": 1,\n  \"id\": 1,\n  \"title\": \"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\",\n  \"body\": \"quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto\"\n}\n</code></pre> </li> </ol>"},{"location":"sections/section_1/#curl-command-option-reference","title":"cURL Command Option Reference","text":"<p>cURL and a slew of configuration options, and you can find a reference for some of the more common options below:</p> cURL Command Options Option Shorthand Purpose <code>--request</code> <code>-X</code> HTTP request method - <code>GET</code><sup>3</sup>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code> <code>--header</code> <code>-H</code> HTTP client header(s) in key/value pairs - <code>\"Content:application/json\"</code> <code>--url &lt;url&gt;</code> N/A Request URL <code>--cookie-jar &lt;file_name&gt;</code> <code>c</code> Write session cookies to a local file <code>--cookie &lt;file_name&gt;</code> <code>-b</code> Send session cookies stored in a local file <code>--data</code>, <code>--data-raw</code>, and <code>--data-urlencode</code> <code>-d</code> HTTP request body, typically for <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> methods <code>--include</code> <code>-i</code> Display the response headers and response body in STDOUT <code>--head</code> <code>-I</code> Display ONLY the response headers in STDOUT <code>--insecure</code> <code>-k</code> Allow insecure or self-signed certificates (insecure TLS) <code>--location</code> <code>-L</code> Follow HTTP 3XX redirect server responses <code>--output &lt;file_name&gt;</code> <code>-o &lt;file_name&gt;</code> Write response to a file, instead of STDOUT <code>--user</code> <code>-u</code> HTTP Basic Auth credentials in a key/value pair - <code>\"user_name:password\"</code> <code>--verbose</code> <code>-v</code> Display detailed info for debugging (headers, TLS handshake messages, etc.)"},{"location":"sections/section_1/#moving-on","title":"Moving On","text":"<p>You have the basics of cURL now, and it's time to take a look at Python Requests.  Click here to move to the next section.</p> <ol> <li> <p>cURL supports many more protocols than HTTP, and those protocols are beyond the scope of this repository.\u00a0\u21a9</p> </li> <li> <p>Tools like JQ, for example, can format JSON text into structured data.\u00a0\u21a9</p> </li> <li> <p>Default, when omitted.\u00a0\u21a9</p> </li> </ol>"},{"location":"sections/section_2/","title":"REST API Access With Python Requests","text":""},{"location":"sections/section_2/#python-requests","title":"Python Requests","text":"<p>Python Requests is a third-party<sup>1</sup> tool that allows you to write simple, human-readable REST API calls in Python.  Although the Python Standard Library contains a module that can make REST API calls<sup>2</sup>, official Python documentation recommends the use of the Python Requests module because of its higher-level, more consumable interface.</p> <p>Python Requests is an excellent tool for doing things like:</p> <ul> <li>Obtaining configuration and state information from a variety of REST-based IT systems.</li> <li>Sending configuration changes to different REST APIs.</li> <li>Automatically managing HTTP session state.</li> <li>Using simple keywords to convert Python objects into HTTP/REST API-compatible formats automatically.</li> <li>Converting server response data into Python objects.</li> <li>Managing HTTP exceptions.</li> <li>Building REST API interactions into your automated workflows.</li> </ul>"},{"location":"sections/section_2/#python-requests-in-action","title":"Python Requests In Action","text":"<p>For the most part, only your imagination limits what you can do with REST APIs and Python Requests.  Because of Python's programmatic flexibility, you can automate just about any task exposed by REST APIs.  Knowing how to use Python Requests is a skill that will help you automate both complex and straightforward workflows.</p> Python Requests Example <p>Here is a quick example of how Python Requests can make a REST API call to a free, public service that provides a REST API test platform:</p> <ol> <li> <p>You can paste this Python Requests code into a Python 3.x interpreter and press Enter or Return to send the request:</p> Example Python Requests Command <pre><code>import requests\nreq_url = 'https://jsonplaceholder.typicode.com/posts/1'\nreq_headers = {'Content-Type':'application/json'}\nresponse = requests.get(req_url, headers=req_headers)\nprint(f'{response.status_code} {response.reason}')\nprint(response.json())\n</code></pre> </li> <li> <p>The response from the server should look something like this:</p> Example Server Response <pre><code>200 OK\n{'userId': 1, 'id': 1, 'title': 'sunt aut facere repellat provident occaecati excepturi optio reprehenderit', 'body': 'quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto'}\n</code></pre> </li> </ol>"},{"location":"sections/section_2/#python-requests-parameters-reference","title":"Python Requests Parameters Reference","text":"<p>Python Requests has many parameters and you can find a reference for some of the more common parameters and keywords below:</p> Python Requests Parameters Parameter Class Description <code>method</code> <code>str</code> HTTP request method<sup>3</sup> - <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code> <code>url</code> <code>str</code> Request URL<sup>3</sup> <code>data</code> <code>dict</code> Form-encoded HTTP request body, typically for <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> methods <code>json</code> <code>dict</code> JSON-encoded HTTP request body, typically for <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> methods <code>headers</code> <code>dict</code> HTTP client header(s) in key/value pairs - <code>{\"Content\": \"application/json\"}</code> <code>cookies</code> <code>dict</code> or <code>CookieJar</code> HTTP cookies in key/value pairs - <code>{\"Session_Token\": \"1234567890\"}</code> <code>auth</code> <code>tuple</code> HTTP Basic Auth credentials in a key/value pair - <code>(\"user_name\", \"password\")</code> <code>timeout</code> <code>float</code> or <code>tuple</code> Number of seconds to wait for the server to respond to a request<sup>4</sup> <code>verify</code> <code>bool</code> Allow insecure or self-signed certificates (insecure TLS)<sup>5</sup>"},{"location":"sections/section_2/#python-requests-response-object-reference","title":"Python Requests Response Object Reference","text":"<p>The response from a Python Requests request is an object with many attributes and methods.  The data available in the <code>Response</code> object will help you understand whether or not your REST API call was successful and give you detailed information, often in a structured data format, that you can use programmatically.  You can find a reference for some of the more common attributes and methods below:</p> Python Requests Response Object Attributes &amp; Methods<sup>6</sup> Name Return Object Description <code>cookies</code> <code>CookieJar</code> Cookies returned by the server <code>headers</code> <code>dict</code> Response headers from the server <code>json()</code> <code>dict</code> JSON-encoded response body from the server <code>links</code> <code>dict</code> And links found within the response header from the server <code>ok</code> <code>bool</code> <code>True</code> if the HTTP status code is &lt; <code>400</code>, <code>False</code> if the HTTP status code is &gt;= <code>400</code> <code>raise_for_status()</code> <code>HTTPError</code> Raise an <code>Exception</code> of the <code>HTTPError</code> type, if the HTTP status code is &gt;= <code>400</code> <code>reason</code> <code>str</code> HTTP reason text - <code>OK</code>, <code>Not Found</code>, <code>Bad Request</code>, etc. <code>status_code</code> <code>str</code> HTTP status code - <code>200</code>, <code>404</code>, <code>400</code>, etc. <code>text</code> <code>str</code> Unicode-encoded response body from the server <code>url</code> <code>str</code> Final URL location of the server response, including redirects"},{"location":"sections/section_2/#keep-rolling","title":"Keep Rolling","text":"<p>You have all of the information you need to get started with the hands-on exercises.  Click here to move to the next section.</p> <ol> <li> <p>Installed with the Python pip Package Management Tool.\u00a0\u21a9</p> </li> <li> <p>Python <code>urllib</code> module.\u00a0\u21a9</p> </li> <li> <p>Required parameter.\u00a0\u21a9\u21a9</p> </li> <li> <p>Default timeout is unlimited and, although not required, should be set.\u00a0\u21a9</p> </li> <li> <p>Default is <code>True</code>.\u00a0\u21a9</p> </li> <li> <p>Any item in the table below with trailing <code>()</code> characters is a <code>method</code> and all other items are <code>attributes</code>.\u00a0\u21a9</p> </li> </ol>"},{"location":"sections/section_3/","title":"Hands-On Exercises","text":""},{"location":"sections/section_3/#lab-overview","title":"Lab Overview","text":"<p>The lab environment runs in a Docker Container and contains references for all of the cURL scripts and Python Requests code that you will build.  A PowerPoint Presentation file will guide you through each of the following exercises:</p> <ol> <li>cURL Introduction.</li> <li>Python Requests Introduction.</li> <li>ACI<sup>1</sup></li> <li>DNAC<sup>1</sup></li> <li>Meraki<sup>1</sup></li> <li>vManage SD-WAN<sup>1</sup></li> <li>Webex<sup>1</sup></li> </ol>"},{"location":"sections/section_3/#fontawesome-solid-tools-lab-requirements","title":":fontawesome-solid-tools: Lab Requirements","text":"<p>You only need a few things to start working through the hands-on exercises:</p> <ol> <li> <p> A Docker runtime environment.</p> <ul> <li>Docker Desktop for Windows or macOS</li> <li>Docker for Linux.</li> </ul> </li> <li> <p> An IDE tool<sup>2</sup>.</p> <ul> <li>We recommend Visual Studio Code.</li> </ul> </li> <li> <p> A terminal program.</p> <ul> <li>Visual Studio Code Integrated Terminal.</li> <li>Microsoft PowerShell.</li> <li>macOS Terminal application.</li> </ul> </li> <li> <p> Microsoft PowerPoint.</p> </li> </ol>"},{"location":"sections/section_3/#lab-setup-instructions","title":"Lab Setup Instructions","text":"<p>Follow these steps to set up the hands-on lab environment:</p> Lab Setup Directions <p>Attention</p> <ul> <li>This option assumes you have an operational Docker runtime environment and that your Docker daemon can connect to and download images from Docker Hub.</li> <li>The screenshots in the directions represent an example from a macOS Terminal, and the same commands and procedures also work with Windows PowerShell.</li> </ul> Step 1 <ol> <li> <p>Copy the following command to your clipboard.</p> <pre><code>docker run -it --name curl-pyreq1 wwt01/curl-pyreq\n</code></pre> </li> <li> <p>Open a terminal shell on the same system as your Docker runtime environment.</p> </li> <li>Paste the command into your terminal shell.</li> <li>Press your Enter or Return key to run the command.</li> </ol> <p></p> <p></p> <p>Tip</p> <p>You will know your Container is active and ready for use when your terminal prompt changes to something like this:</p> <pre><code>root@da343f292e5a:/code#\n</code></pre> <p></p> Docker Command Details <p>The Docker Command performs the following actions:</p> <ol> <li>Downloads the wwt01/curl-pyreq Docker Image from Docker Hub.</li> <li>Creates a new Docker Container with the name curl-pyreq1</li> <li>Attaches to the Container shell.</li> </ol> Step 2 <p>Click the botton below to download the instructional Microsoft PowerPoint slides:</p> <p>Download Presentation </p> <p></p> Step 3 <p>Open the PowerPoint Presentation.</p> <p></p> Step 4 <p>Complete each of the exercises, in sequence:</p> <ol> <li> <p>The slides provide command examples for you to follow:</p> <p></p> </li> <li> <p>The presenter notes provide step-by-step instructions to guide you through each slide and exercise.</p> </li> <li> <p>After each cURL command entry or Python Requests code run, a slide with a screen recording will show you what you should expect to see:</p> <p></p> </li> <li> <p>Enter the cURL command examples in your Container prompt.</p> </li> <li>Use the Container's Python REPL to enter the Python Request code examples.</li> </ol> <p>Attention</p> <p>There may be some slight variances between the output in the screen recordings and the output in your Docker environment, although each of the cURL commands and Python Requests code blocks should run successfully.</p> Lab Environment Shutdown and Restart <p>To shut down the lab environment, from your terminal window press Ctrl+D and wait for the terminal prompt to change back to its standard development computer prompt.</p> <p></p> Lab Environment Docker Command Reference <p>Use the following commands to manage your Docker lab environment:</p> <ul> <li>Restart an existing lab environment Container (restores previous lab progress):</li> </ul> <pre><code>docker start curl-pyreq1\n</code></pre> <ul> <li>Delete an existing lab environment Container (removes previous lab progress):</li> </ul> <pre><code>docker stop curl-pyreq1\ndocker rm curl-pyreq1\n</code></pre> <ul> <li>Remove the Docker Image:</li> </ul> <pre><code>docker stop curl-pyreq1\ndocker rm curl-pyreq1\ndocker rmi wwt01/curl-pyreq\n</code></pre>"},{"location":"sections/section_3/#tips","title":"Tips","text":"<ol> <li> <p>Start the PowerPoint presentation in slide show mode for an authentic step-by-step walkthrough experience.</p> <ul> <li>Slide animations will advance through a series of small, more consumable steps.</li> <li>If you have a second monitor, you can click through the slide show and read the instructions in the presentation script simultaneously.</li> </ul> </li> <li> <p>The Git repository includes a resources directory where you can find subdirectories, organized by topic and REST API platform.</p> <ul> <li>All of the shell scripts and Python code in the PowerPoint slides, are in curl and python subdirectories.</li> <li>Both the curl and python directories contain subdirectories for each section of the presentation (examples, ACI, DNAC, etc.).</li> <li>Keep the Git repository open in a browser window if you want a quick reference for any of the cURL commands or Python Requests code.</li> </ul> </li> </ol>"},{"location":"sections/section_3/#feedback-issues-contributions","title":"Feedback, Issues, &amp; Contributions","text":"<p>What can you do you need some help?  If you:</p> <ul> <li>Run into a problem with the lab.</li> <li>Have a question about the presentation content.</li> <li>Want to make a suggestion</li> <li>Want to make your own contribution to this project.</li> </ul> <p>Please, open an Issue or create a Pull Request.  This repository is a community project, and your feedback will make the learning experience better for you and those who follow you in their learning journeys.</p> <ol> <li> <p>Includes the following sub-sections: Platform-Specific API Overview, cURL REST API exercises, and Python Requests REST API exercises.\u00a0\u21a9\u21a9\u21a9\u21a9\u21a9</p> </li> <li> <p>Optional. You may use the Python REPL in the Docker Container to enter the Python Requests code examples.\u00a0\u21a9</p> </li> </ol>"}]}